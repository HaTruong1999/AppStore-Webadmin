<div class="head-top marb10">
  <div class="pull-left">
    <div class="main-title">
      {{'auth_change_password' | translate}}
    </div>
  </div>
  <div class="clearfix"></div>
</div>
<div class="content">
  <form nz-form [formGroup]="validateForm">
    <nz-form-item>
      <nz-form-label [nzSpan]="4" nzRequired>{{'auth_password_current' | translate}}</nz-form-label>
      <nz-form-control [nzSpan]="10" nzDisableAutoTips nzErrorTip="{{'auth_password_current_require' | translate}}">
        <input nz-input type="password" formControlName="password" [(ngModel)]="dataForm.password"  placeholder="{{'auth_password_current_placeholder' | translate}}" />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="4" nzRequired>{{'auth_password_new' | translate}}</nz-form-label>
      <nz-form-control [nzSpan]="10" nzDisableAutoTips nzErrorTip="{{'auth_password_new_require' | translate}}">
        <input nz-input type="password" formControlName="passwordNew" [(ngModel)]="dataForm.passwordNew" placeholder="{{'auth_password_new_placeholder' | translate}}" (ngModelChange)="validateConfirmPassword()" />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="4" nzRequired>{{'auth_password_confirm' | translate}}</nz-form-label>
      <nz-form-control [nzSpan]="10" nzDisableAutoTips [nzErrorTip]="passwordErrorTpl">
        <input nz-input type="password" formControlName="confirm" [(ngModel)]="dataForm.confirm" placeholder="{{'auth_password_confirm_placeholder' | translate}}" />
        <ng-template #passwordErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            {{'auth_password_confirm_require' | translate}}
          </ng-container>
          <ng-container *ngIf="control.hasError('confirm')">
            {{'auth_password_confirm_invalid' | translate}}
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control [nzOffset]="4" [nzSpan]="10">
        <button nz-button nzType="primary" (click)="submitForm()" [nzLoading]="isConfirmLoading"><i nz-icon nzType="save"></i>{{ 'auth_change_password' | translate}}</button>
        <button nz-button nzType="default"  (click)="cancle()"><i nz-icon nzType="close"></i>{{'global_cancel' | translate}}</button>
      </nz-form-control>
    </nz-form-item>
  </form>
</div>
<loading-page [isPageLoading]="isPageLoading">
</loading-page>