(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"/jrc":function(n,e,t){"use strict";t.d(e,"a",function(){return s});var i=t("fXoL"),c=t("ofXK");function o(n,e){1&n&&(i.Wb(0,"div"),i.Mc(1,"\n    "),i.Wb(2,"div",1),i.Mc(3,"\n        "),i.Wb(4,"div",2),i.Mc(5,"\n        "),i.Vb(),i.Mc(6,"\n    "),i.Vb(),i.Mc(7,"\n    "),i.Wb(8,"div",3),i.Mc(9,"\n        "),i.Wb(10,"p",4),i.Mc(11,"\u0110ang t\u1ea3i ..."),i.Vb(),i.Mc(12,"\n    "),i.Vb(),i.Mc(13,"\n"),i.Vb())}let s=(()=>{class n{constructor(){this.isPageLoading=!0}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Kb({type:n,selectors:[["loading-page"]],inputs:{isPageLoading:"isPageLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center",2,"padding-top","200px"],["role","status",1,"spinner-border",2,"min-height","75px","min-width","75px","color","#CE7A58"],[1,"d-flex","justify-content-center"],[2,"margin-top","10px","margin-left","10px"]],template:function(n,e){1&n&&i.Kc(0,o,14,0,"div",0),2&n&&i.rc("ngIf",e.isPageLoading)},directives:[c.n],styles:[""]}),n})()},Yj9t:function(n,e,t){"use strict";t.r(e),t.d(e,"AuthModule",function(){return W});var i=t("ofXK"),c=t("tyNb"),o=t("3Pt+"),s=t("aad+"),r=t("3fpu"),a=t("Rm4T"),l=t("fXoL"),g=t("RL7/"),d=t("5eHb"),b=t("sYmb"),u=t("/jrc");function m(n,e){1&n&&(l.Wb(0,"div",16),l.Mc(1,"\n                        "),l.Rb(2,"img",17),l.Mc(3,"\n                    "),l.Vb())}function p(n,e){1&n&&(l.Wb(0,"div"),l.Mc(1),l.kc(2,"translate"),l.Vb()),2&n&&(l.Cb(1),l.Oc("\n                                                    ",l.lc(2,1,"auth_username-require"),"\n                                                "))}function h(n,e){if(1&n&&(l.Wb(0,"div",39),l.Mc(1,"\n                                                "),l.Kc(2,p,3,3,"div",12),l.Mc(3,"\n                                            "),l.Vb()),2&n){const n=l.jc(2);l.Cb(2),l.rc("ngIf",n.username.errors.required)}}function M(n,e){1&n&&(l.Wb(0,"div"),l.Mc(1),l.kc(2,"translate"),l.Vb()),2&n&&(l.Cb(1),l.Oc("\n                                                    ",l.lc(2,1,"auth_password-require"),"\n                                                "))}function f(n,e){if(1&n&&(l.Wb(0,"div",39),l.Mc(1,"\n                                                "),l.Kc(2,M,3,3,"div",12),l.Mc(3,"\n                                            "),l.Vb()),2&n){const n=l.jc(2);l.Cb(2),l.rc("ngIf",n.password.errors.required)}}function v(n,e){if(1&n){const n=l.Xb();l.Wb(0,"div",40),l.Mc(1,"\n                                    "),l.Wb(2,"div",41),l.Mc(3,"\n                                        "),l.Wb(4,"button",42),l.gc("click",function(){return l.Bc(n),l.jc(2).submitLogin()}),l.Mc(5),l.kc(6,"translate"),l.Vb(),l.Mc(7,"\n                                    "),l.Vb(),l.Mc(8,"\n                                "),l.Vb()}if(2&n){const n=l.jc(2);l.Cb(4),l.rc("disabled",n.loginFormGroup.invalid||n.isDisabledLogin),l.Cb(1),l.Nc(l.lc(6,2,"auth_signin"))}}function w(n,e){if(1&n&&(l.Wb(0,"div"),l.Mc(1,"\n                        "),l.Wb(2,"form"),l.Mc(3,"\n                            "),l.Rb(4,"img",18),l.Mc(5,"\n                            "),l.Wb(6,"h2",19),l.Mc(7),l.kc(8,"translate"),l.Vb(),l.Mc(9,"\n                            "),l.Wb(10,"h4",20),l.Mc(11,"\n                                "),l.Wb(12,"span",21),l.Mc(13),l.kc(14,"translate"),l.Vb(),l.Mc(15,"\n                            "),l.Vb(),l.Mc(16,"\n                            "),l.Rb(17,"div",22),l.Mc(18,"\n                            "),l.Wb(19,"div",23),l.Mc(20,"\n                                "),l.Wb(21,"div",24),l.Mc(22,"\n                                    "),l.Wb(23,"div",25),l.Mc(24,"\n                                        "),l.Wb(25,"div",26),l.Mc(26,"\n                                            "),l.Wb(27,"label",27),l.Mc(28),l.kc(29,"translate"),l.Vb(),l.Mc(30,"\n                                            "),l.Rb(31,"input",28),l.Mc(32,"\n                                            "),l.Kc(33,h,4,1,"div",29),l.Mc(34,"\n                                        "),l.Vb(),l.Mc(35,"\n                                    "),l.Vb(),l.Mc(36,"\n                                    "),l.Wb(37,"div",25),l.Mc(38,"\n                                        "),l.Wb(39,"div",26),l.Mc(40,"\n                                            "),l.Wb(41,"label",30),l.Mc(42),l.kc(43,"translate"),l.Vb(),l.Mc(44,"\n                                            "),l.Rb(45,"input",31),l.Mc(46,"\n                                            "),l.Kc(47,f,4,1,"div",29),l.Mc(48,"\n                                        "),l.Vb(),l.Mc(49,"\n                                    "),l.Vb(),l.Mc(50,"\n                                "),l.Vb(),l.Mc(51,"\n                                "),l.Wb(52,"div",32),l.Mc(53,"\n                                    "),l.Rb(54,"input",33),l.Mc(55,"\n                                    "),l.Wb(56,"label",34),l.Mc(57),l.kc(58,"translate"),l.Vb(),l.Mc(59,"\n                                "),l.Vb(),l.Mc(60,"\n                                "),l.Wb(61,"div",35),l.Mc(62,"\n                                    "),l.Rb(63,"p",36),l.Mc(64,"\n                                "),l.Vb(),l.Mc(65,"\n                                "),l.Rb(66,"div",37),l.Mc(67,"\n                                "),l.Kc(68,v,9,4,"div",38),l.Mc(69,"\n                            "),l.Vb(),l.Mc(70,"\n                        "),l.Vb(),l.Mc(71,"\n                    "),l.Vb()),2&n){const n=l.jc();l.Cb(7),l.Nc(l.lc(8,9,"project_name")),l.Cb(6),l.Nc(l.lc(14,11,"project_welcome")),l.Cb(6),l.rc("formGroup",n.loginFormGroup),l.Cb(9),l.Oc(" ",l.lc(29,13,"auth_username"),""),l.Cb(5),l.rc("ngIf",n.username.invalid&&(n.username.dirty||n.username.touched)),l.Cb(9),l.Nc(l.lc(43,15,"auth_password")),l.Cb(5),l.rc("ngIf",n.password.invalid&&(n.password.dirty||n.password.touched)),l.Cb(10),l.Nc(l.lc(58,17,"auth_keep-signin")),l.Cb(11),l.rc("ngIf",!n.isShowLoading)}}let C=(()=>{class n{constructor(n,e,t,i,c){this.authService=n,this.toast=e,this.routerService=t,this.translate=i,this.i18n=c,this.isPageLoading=!0,this.isDisabledLogin=!1,this.isShowLoading=!1}ngOnInit(){this.isPageLoading=!1,this.checkLang(),r.a.deleteCacheUser(),this.loginForm=new s.b,this.loginFormGroup=new o.i({username:new o.f(null,[o.u.required]),password:new o.f(null,[o.u.required]),remember:new o.f(null)}),this.token=this.authService.getWithExpiry("token"),this.token&&this.routerService.navigate(["/home"])}get username(){return this.loginFormGroup.get("username")}get password(){return this.loginFormGroup.get("password")}submitLogin(){try{const n=this.loginFormGroup.value;this.isShowLoading=!0,this.loginData={username:n.username.trim(),password:n.password.trim()},document.getElementById("loginStatus").innerHTML="",this.authService.userLogin(this.loginData).subscribe(n=>{this.isShowLoading=!1;let e=n;if(1===e.code){let n=e.data,t=this.parseJwt(n.accessToken);null!=t&&(this.toast.success(this.translate.instant("auth_login-success")),r.a.cache("userName",t.userFullname),r.a.cache("userCode",t.userCode),r.a.cache("userId",t.sub),this.authService.setWithExpiry("token",n.accessToken,t.exp),this.authService.loadUrl())}else this.toast.warning(this.translate.instant(0===e.code&&"UNACTIVE"===e.data.codeErr?"auth_user-unactive":0===e.code&&"LOCKED"===e.data.codeErr?"auth_user-locked":"auth_incorrect-user-pass"))},n=>{this.isShowLoading=!1,401==n.code?this.toast.warning(this.translate.instant("auth_incorrect-user-pass")):this.toast.error(this.translate.instant("error_system"))})}catch(n){throw new Error(n)}}parseJwt(n){var e=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(e).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}changeLanguage(){let n=localStorage.getItem("lang"),e=document.getElementById("languageToggle");"vi"===n?(e.classList.remove("langVN"),e.classList.add("langEN"),this.translate.use("en"),localStorage.setItem("lang","en"),this.i18n.setLocale(a.f)):(e.classList.add("langVN"),e.classList.remove("langEN"),this.translate.use("vi"),localStorage.setItem("lang","vi"),this.i18n.setLocale(a.g))}checkLang(){let n=localStorage.getItem("lang");null==n&&(n="vi",localStorage.setItem("lang","vi"),this.translate.use("vi"),this.i18n.setLocale(a.g));let e=document.getElementById("languageToggle");"vi"===n?(e.classList.remove("langEN"),e.classList.add("langVN"),this.translate.use("vi"),this.i18n.setLocale(a.g)):(e.classList.add("langEN"),e.classList.remove("langVN"),this.translate.use("en"),this.i18n.setLocale(a.f))}}return n.\u0275fac=function(e){return new(e||n)(l.Qb(g.a),l.Qb(d.b),l.Qb(c.g),l.Qb(b.d),l.Qb(a.e))},n.\u0275cmp=l.Kb({type:n,selectors:[["app-login"]],decls:55,vars:9,consts:[[1,"app-container"],[1,"h-100"],[1,"h-100","no-gutters","row"],[1,"d-none","d-lg-block","col-lg-4"],[1,"slider-light"],[1,"slick-slider"],["tabindex","-1",1,"position-relative","h-100","d-flex","justify-content-center","align-items-center","bg-plum-plate"],[1,"slide-img-bg",2,"background-image","url('assets/img/sidebar/abstract9.png')"],[1,"slider-content"],[1,"h-100","d-flex","bg-white","justify-content-center","align-items-center","col-md-12","col-lg-8"],[1,"mx-auto","app-login-box","col-sm-12","col-md-10","col-lg-9"],["class","form-row",4,"ngIf"],[4,"ngIf"],[1,"text-center","mt-4","font-weight-light",2,"position","absolute","top","0px","right","10px"],["id","languageToggle",1,"nav-link",2,"cursor","pointer",3,"click"],[3,"isPageLoading"],[1,"form-row"],["src","assets/images/load.gif",1,"mx-auto","d-block"],["src","assets/images/logo/logo-icon.png",1,"mx-auto","d-block",2,"height","120px","width","120px"],[2,"text-align","center","margin-bottom","20px"],[1,"mb-0"],[1,"d-block"],[1,"divider","row"],[3,"formGroup"],[1,"form-row","cls-Login"],[1,"col-md-6"],[1,"position-relative","form-group"],["for","exampleEmail",1,""],["formControlName","username","type","text","tabindex","1",1,"form-control"],["style","color:red; font-size:12px; padding-bottom: .2rem; padding-top: .5rem;",4,"ngIf"],["for","examplePassword",1,""],["type","password","formControlName","password","autocomplete","off",1,"form-control"],[1,"position-relative","form-check","cls-Login",2,"display","none"],["name","check","id","login-remember","formControlName","remember","type","checkbox",1,"form-check-input"],["for","exampleCheck",1,"form-check-label"],[1,"form-row","cls-Login",2,"display","none"],["id","loginStatus",2,"color","red","font-size","12px"],[1,"divider","row","cls-Login"],["class","d-flex align-items-center cls-Login",4,"ngIf"],[2,"color","red","font-size","12px","padding-bottom",".2rem","padding-top",".5rem"],[1,"d-flex","align-items-center","cls-Login"],[1,"ml-auto","cls-Login"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(n,e){1&n&&(l.Wb(0,"div",0),l.Mc(1,"\n    "),l.Wb(2,"div",1),l.Mc(3,"\n        "),l.Wb(4,"div",2),l.Mc(5,"\n            "),l.Wb(6,"div",3),l.Mc(7,"\n                "),l.Wb(8,"div",4),l.Mc(9,"\n                    "),l.Wb(10,"div",5),l.Mc(11,"\n                        "),l.Wb(12,"div"),l.Mc(13,"\n                            "),l.Wb(14,"div",6),l.Mc(15,"\n                                "),l.Rb(16,"div",7),l.Mc(17,"\n                                "),l.Wb(18,"div",8),l.Mc(19,"\n                                    "),l.Wb(20,"h3"),l.Mc(21),l.kc(22,"translate"),l.Vb(),l.Mc(23,"\n                                    "),l.Wb(24,"p"),l.Mc(25),l.kc(26,"translate"),l.Vb(),l.Mc(27,"\n                                "),l.Vb(),l.Mc(28,"\n                            "),l.Vb(),l.Mc(29,"\n                        "),l.Vb(),l.Mc(30,"\n                    "),l.Vb(),l.Mc(31,"\n                "),l.Vb(),l.Mc(32,"\n            "),l.Vb(),l.Mc(33,"\n            "),l.Wb(34,"div",9),l.Mc(35,"\n                "),l.Wb(36,"div",10),l.Mc(37,"\n                    "),l.Kc(38,m,4,0,"div",11),l.Mc(39,"\n                    "),l.Kc(40,w,72,19,"div",12),l.Mc(41,"\n                "),l.Vb(),l.Mc(42,"\n                "),l.Wb(43,"div",13),l.Mc(44,"\n                    "),l.Wb(45,"a",14),l.gc("click",function(){return e.changeLanguage()}),l.Mc(46,"\n                    "),l.Vb(),l.Mc(47,"\n                "),l.Vb(),l.Mc(48,"\n            "),l.Vb(),l.Mc(49,"\n        "),l.Vb(),l.Mc(50,"\n    "),l.Vb(),l.Mc(51,"\n"),l.Vb(),l.Mc(52,"\n\n"),l.Wb(53,"loading-page",15),l.Mc(54,"\n"),l.Vb()),2&n&&(l.Cb(21),l.Nc(l.lc(22,5,"project_name")),l.Cb(4),l.Oc("\n                                        ",l.lc(26,7,"project_version"),"\n                                    "),l.Cb(13),l.rc("ngIf",e.isShowLoading),l.Cb(2),l.rc("ngIf",!e.isShowLoading),l.Cb(13),l.rc("isPageLoading",e.isPageLoading))},directives:[i.n,u.a,o.w,o.p,o.q,o.j,o.d,o.o,o.h,o.c],pipes:[b.c],styles:[".app-container[_ngcontent-%COMP%]{display:flex;min-height:100vh;flex-direction:column;margin:0;font-size:.88rem;font-weight:400;line-height:1.5}.h-100[_ngcontent-%COMP%]{height:100vh!important}.slick-slider[_ngcontent-%COMP%]{position:relative;display:block;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;touch-action:pan-y;-webkit-tap-highlight-color:transparent;max-width:1400px;margin-left:auto;margin-right:auto}.slick-slider[_ngcontent-%COMP%]   .slide-img-bg[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;height:65%;background-size:cover;opacity:.9;z-index:10}.slider-light[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]{color:#fff}.slick-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]{position:relative;z-index:15;text-align:center;margin:0 6rem;padding-bottom:50rem}.slick-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:400;margin-bottom:1.5rem}.slick-slider[_ngcontent-%COMP%]   .slider-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.7}.bg-plum-plate[_ngcontent-%COMP%]{background-image:linear-gradient(135deg,#64afff 50%,#c3f4ff)!important}.app-login-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1rem}.divider[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;height:1px;overflow:hidden;background:#e9ecef}"]}),n})();const k=[{path:"",component:C},{path:"login",component:C}];let L=(()=>{class n{}return n.\u0275mod=l.Ob({type:n}),n.\u0275inj=l.Nb({factory:function(e){return new(e||n)},imports:[[c.j.forChild(k)],c.j]}),n})();var V=t("PCNd");let W=(()=>{class n{}return n.\u0275mod=l.Ob({type:n}),n.\u0275inj=l.Nb({factory:function(e){return new(e||n)},imports:[[i.c,L,V.a]]}),n})()}}]);
//# sourceMappingURL=8-es2015.9f7386ced70b93a16079.js.map